    <!-- Content -->
    <div class="content container-fluid">
      <!-- Page Header -->
      <div class="page-header">
        <div class="row align-items-center">
          <div class="col">
            <h1 class="page-header-title">Dashboard</h1>
          </div>
          <!-- End Col -->

          <div class="col-auto">
            <a class="btn btn-primary" [routerLink]="['/customers']" data-bs-toggle="modal" data-bs-target="#inviteUserModal">
              <i class="bi-person-plus-fill me-1"></i> View All Users
            </a>
          </div>
          <!-- End Col -->
        </div>
        <!-- End Row -->
      </div>
      <!-- End Page Header -->

      <!-- Stats -->
      <div class="row">
        <div class="col-sm-6 col-lg-3 mb-3 mb-lg-5">
          <!-- Card -->
          <a class="card card-hover-shadow h-100" href="javascript:;">
            <div class="card-body">
              <h6 class="card-subtitle">Total Savings</h6>

              <div class="row align-items-center gx-2 mb-1">
                <div class="col-12">
                  <h2 class="card-title text-inherit">{{savingsSum | currency :'₦'}}</h2>
                </div>
                <!-- End Col -->

               
              </div>
              <!-- End Row -->

              <span class="badge bg-soft-success text-success">
                <i class="bi-graph-up"></i> 12.5%
              </span>
              <span class="text-body fs-6 ms-1" *ngIf="savingsRecords != undefined">from {{savingsRecords.length}}</span>
            </div>
          </a>
          <!-- End Card -->
        </div>

        <div class="col-sm-6 col-lg-3 mb-3 mb-lg-5">
          <!-- Card -->
          <a class="card card-hover-shadow h-100" href="javascript:;">
            <div class="card-body">
              <h6 class="card-subtitle">Total Withdrawal</h6>

              <div class="row align-items-center gx-2 mb-1">
                <div class="col-12">
                  <h2 class="card-title text-inherit">{{withdrawalSum| currency :'₦'}}</h2>
                </div>
                <!-- End Col -->
              </div>
              <!-- End Row -->

              <span class="badge bg-soft-success text-success">
                <i class="bi-graph-up"></i> 1.7%
              </span>
              <span class="text-body fs-6 ms-1" *ngIf="withdrawalRecords != undefined">from {{withdrawalRecords.length}}</span>
            </div>
          </a>
          <!-- End Card -->
        </div>

        <div class="col-sm-6 col-lg-3 mb-3 mb-lg-5">
          <!-- Card -->
          <a class="card card-hover-shadow h-100" href="javascript:;">
            <div class="card-body">
              <h6 class="card-subtitle">Total Commissions</h6>

              <div class="row align-items-center gx-2 mb-1">
                <div class="col-12">
                  <h2 class="card-title text-inherit">{{commissionSum | currency :'₦'}}</h2>
                </div>
                <!-- End Col -->
              </div>
              <!-- End Row -->

              <span class="badge bg-soft-danger text-danger">
                <i class="bi-graph-down"></i> 4.4%
              </span>
              <span class="text-body fs-6 ms-1" *ngIf="commissionRecords != undefined">from {{commissionRecords.length}}</span>
            </div>
          </a>
          <!-- End Card -->
        </div>

        <div class="col-sm-6 col-lg-3 mb-3 mb-lg-5">
          <!-- Card -->
          <a class="card card-hover-shadow h-100" href="javascript:;">
            <div class="card-body">
              <h6 class="card-subtitle">Total Balance</h6>

              <div class="row align-items-center gx-2 mb-1">
                <div class="col-12">
                  <h2 class="card-title text-inherit">{{totalBalance | currency :'₦'}}</h2>
                </div>
                <!-- End Col -->

                
              </div>
              <!-- End Row -->

              <span class="badge bg-soft-secondary text-body">0.0%</span>
              <span class="text-body fs-6 ms-1" *ngIf="savingsRecords != undefined">from {{savingsRecords.length - savingsRecords.length}}</span>
            </div>
          </a>
          <!-- End Card -->
        </div>
      </div>
      <!-- End Stats -->

      

      <div class="row">
        <div class="col-lg-6 mb-3 mb-lg-5">
          <!-- Card -->
          <div class="card h-100">
            <!-- Header -->
            <div class="card-header card-header-content-sm-between">
              <h4 class="card-header-title mb-2 mb-sm-0">Transactions</h4>

              <!-- Daterangepicker -->
              <div class="btn-group">
              <button id="js-daterangepicker-predefined" class="btn btn-ghost-secondary btn-sm dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi-calendar-week"></i>
                <span class="js-daterangepicker-predefined-preview ms-1" >{{ranges.TodayWithFormat[0] +' - '+ ranges.TodayWithFormat[1] }}</span>
              </button>
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" type="button" *ngFor="let item of dateRanges" (click)="filterDataByDate(item.date[0], item.date[1], item.timeline)">{{item?.timeline}}</a>
              </div>
              <!-- End Daterangepicker -->
            </div>

            </div>
            <!-- End Header -->

            <!-- Body -->
            <div class="card-body">
              <!-- Chart -->
              <div class="chartjs-custom chart-wrapper mx-auto">                              
                <canvas baseChart
                [data]="pieChartData"
                [options]="pieChartOptions"
                [plugins]="pieChartPlugins"
                [legend]="pieChartLegend" 
                [type]="pieChartType">
                </canvas>
              </div>
              <!-- End Chart -->
            </div>
            <!-- End Body -->   
          </div>
          <!-- End Card -->
        </div>

        <div class="col-lg-6 mb-3 mb-lg-5">
          <!-- Card -->
          <div class="card h-100">
            <!-- Header -->
            <div class="card-header card-header-content-between">
              <h4 class="card-header-title">Overall Top 5 Savers</h4>

              <!-- Dropdown -->
              <div class="dropdown">
                <button type="button" class="btn btn-ghost-secondary btn-icon btn-sm rounded-circle" id="reportsOverviewDropdown1" data-bs-toggle="dropdown" aria-expanded="false">
                  <i class="bi-three-dots-vertical"></i>
                </button>

                <div class="dropdown-menu dropdown-menu-end mt-1" aria-labelledby="reportsOverviewDropdown1">
                  <span class="dropdown-header">Settings</span>

                  <a class="dropdown-item" href="javascript:;">
                    <i class="bi-share-fill dropdown-item-icon"></i> Share reports
                  </a>
                  <a class="dropdown-item" type="button" (click)="downloadPie()">
                    <i class="bi-download dropdown-item-icon"></i> Download
                  </a>

                  <div class="dropdown-divider"></div>

                  <span class="dropdown-header">Feedback</span>

                  <a class="dropdown-item" href="javascript:;">
                    <i class="bi-chat-left-dots dropdown-item-icon"></i> Report
                  </a>
                </div>
              </div>
              <!-- End Dropdown -->
            </div>
            <!-- End Header -->

            <!-- Body -->
            <div class="card-body">
              <!-- <span class="h1 d-block mb-4">$7,431.14 USD</span> -->

              <!-- Table -->
              <div class="table-responsive">
                <table class="table table-lg table-nowrap card-table mb-0">
                  <tbody>
                  <tr *ngFor="let item of bestSavers | slice:0:5; let i = index;">
                    <th scope="row">
                      <span class="legend-indicator bg-primary"></span>{{item?.firstName.concat(' ').concat(item?.lastName) | titlecase}}
                    </th>
                    <td>{{item?.transAmount | currency: '₦'}}</td>
                    <td>
                      <span class="badge bg-soft-success text-success">+{{item?.percent | number: '1.0-1'}}%</span>
                    </td>
                  </tr>
                </tbody>
                </table>
              </div>
              <!-- End Table -->
            </div>
            <!-- End Body -->
          </div>
          <!-- End Card -->
        </div>
      </div>


      <div class="row">
        <div class="col-lg-4 mb-3 mb-lg-5">
          <!-- Card -->
          <div class="card h-100">
            <!-- Header -->
            <div class="card-header card-header-content-between">
              <h4 class="card-header-title">Payments</h4>

              <!-- Dropdown -->
              <div class="dropdown">
                <button type="button" class="btn btn-ghost-secondary btn-icon btn-sm rounded-circle" id="reportsOverviewDropdown1" data-bs-toggle="dropdown" aria-expanded="false">
                  <i class="bi-three-dots-vertical"></i>
                </button>

                <div class="dropdown-menu dropdown-menu-end mt-1" aria-labelledby="reportsOverviewDropdown1">
                  <span class="dropdown-header">Settings</span>

                  <a class="dropdown-item" href="javascript:;">
                    <i class="bi-share-fill dropdown-item-icon"></i> Share reports
                  </a>
                  <a class="dropdown-item" type="button" (click)="downloadDoughnut()">
                    <i class="bi-download dropdown-item-icon"></i> Download
                  </a>

                  <div class="dropdown-divider"></div>

                  <span class="dropdown-header">Feedback</span>

                  <a class="dropdown-item" href="javascript:;">
                    <i class="bi-chat-left-dots dropdown-item-icon"></i> Report
                  </a>
                </div>
              </div>
              <!-- End Dropdown -->
            </div>
            <!-- End Header -->

            <!-- Body -->
            <div class="card-body text-center">
              <!-- Badge -->
              <div class="h3">
                <span class="badge bg-soft-info text-info rounded-pill">
                  <i class="bi-check-circle-fill me-1"></i> On track
                </span>
              </div>
              <!-- End Badge -->

              <!-- Chart Half -->
              <div class="chartjs-doughnut-custom" style="height: 15rem;">
                <canvas 
                 id="doughnutHalfChart"
                 class="js-chartjs-doughnut-half"

                 baseChart
                [data]="doughnutHalfChartData"
                [options]="doughnutHalfChartOptions"
                [legend]="pieChartLegend" 
                [type]="doughnutHalfChartType">
              </canvas>

                <div class="chartjs-doughnut-custom-stat" style="top: 12rem;">
                  <small class="text-cap">Account balance</small>
                  <span class="h1">{{totalBalance | currency :'₦'}}</span>
                </div>
              </div>
              <!-- End Chart Half -->

              <hr>

              <div class="row col-divider">
                <div class="col text-end">
                  <span class="d-block h4 mb-0">{{yesterdaytrnxSum| currency :'₦'}}</span>
                  <span class="d-block small">Yesterday balance</span>
                </div>

                <div class="col text-start">
                  <span class="d-block h4 text-success mb-0">
                    <i class="bi-graph-up"></i> {{(yesterdaytrnxSum / totalBalance * 100 | number:'1.0-1') + '%' }}
                  </span>
                  <span class="d-block small">Percentage difference</span>
                </div>
              </div>
              <!-- End Row -->
            </div>
            <!-- End Body -->
          </div>
          <!-- End Card -->
        </div>

        <div class="col-lg-8 mb-3 mb-lg-5">
          <!-- Card -->
          <div class="card h-100">
            <!-- Header -->
            <div class="card-header card-header-content-between">
              <h4 class="card-header-title">Latest transactions</h4>

              <!-- Dropdown -->
              <div class="dropdown">
                <button type="button" class="btn btn-ghost-secondary btn-icon btn-sm rounded-circle" id="reportsOverviewDropdown3" data-bs-toggle="dropdown" aria-expanded="false">
                  <i class="bi-three-dots-vertical"></i>
                </button>

                <div class="dropdown-menu dropdown-menu-end mt-1" aria-labelledby="reportsOverviewDropdown3">
                  <span class="dropdown-header">Settings</span>

                  <a class="dropdown-item" href="javascript:;">
                    <i class="bi-share-fill dropdown-item-icon"></i> Share reports
                  </a>
                  <a class="dropdown-item" type="button">
                    <i class="bi-download dropdown-item-icon"></i> Download
                  </a>

                  <div class="dropdown-divider"></div>

                  <span class="dropdown-header">Feedback</span>

                  <a class="dropdown-item" href="javascript:;">
                    <i class="bi-chat-left-dots dropdown-item-icon"></i> Report
                  </a>
                </div>
              </div>
              <!-- End Dropdown -->
            </div>
            <!-- End Header -->

            <!-- Body -->
            <div class="card-body card-body-height">
              <ul class="list-group list-group-flush list-group-no-gutters">
                <!-- List Item -->
                <li class="list-group-item" *ngFor="let record of allRecords  | slice:0:6; let i = index; ">
                  <div class="d-flex">
                    <div class="flex-shrink-0">
                      <!-- Avatar -->
                      <div class="avatar avatar-sm avatar-soft-dark avatar-circle">
                        <span class="avatar-initials">{{record?.firstName | titlecase | slice:0:1}}{{(record?.lastName | titlecase | slice:0:1) }}</span>
                      </div>
                      <!-- End Avatar -->
                    </div>

                    <div class="flex-grow-1 ms-3">
                      <div class="row">
                        <div class="col-7 col-md-5 order-md-1">
                          <h5 class="mb-0">{{record?.firstName.concat(' ').concat(record?.lastName) | titlecase}}</h5>
                          <span class="fs-6 text-body">{{(record?.transType | i18nSelect: trnxMap) + ' to '+ record?.accountType}} </span>
                        </div>

                        <div class="col-5 col-md-4 order-md-3 text-end mt-2 mt-md-0">
                          <h5 [ngClass]="'mb-0 ' + (record?.transType === 'Savings' ? 'text-success' : record?.transType === 'commission' ?  +'text-warning' : 'text-danger') ">
                            {{record?.transType === 'Withdrawal' ?  '-'+ (record?.transAmount | currency:'₦') : record?.transAmount | currency:'₦' }} NGN</h5>
                          <span class="fs-6 text-body">{{record?.transDate | date: 'd MMMM, y.'}}</span>
                        </div>

                        <div class="col-auto col-md-3 order-md-2">
                          <span [ngClass]=" 'badge bg-soft-success text-success rounded-pill' ">Success</span>
                        </div>
                      </div>
                      <!-- End Row -->
                    </div>
                  </div>
                </li>
                <!-- End List Item -->

              </ul>
            </div>
            <!-- End Body -->
          </div>
          <!-- End Card -->
        </div>
      </div>
      <!-- End Row -->


      <!-- Card -->
      <div class="card mb-3 mb-lg-5">
        <!-- Header -->
        <div class="card-header">
          <div class="row justify-content-between align-items-center flex-grow-1">
            <div class="col-md">
              <div class="d-flex justify-content-between align-items-center">
                <h4 class="card-header-title">This Month Customers</h4>

                <!-- Datatable Info -->
                <div id="datatableCounterInfo" style="display: none;">
                  <div class="d-flex align-items-center">
                    <span class="fs-6 me-3">
                      <span id="datatableCounter">0</span>
                      Selected
                    </span>
                    <a class="btn btn-outline-danger btn-sm" href="javascript:;">
                      <i class="tio-delete-outlined"></i> Delete
                    </a>
                  </div>
                </div>
                <!-- End Datatable Info -->
              </div>
            </div>
            <!-- End Col -->

            <div class="col-auto">
              <!-- Filter -->
              <div class="row align-items-sm-center">
                <div class="col-sm-auto">
                  <div class="row align-items-center gx-0">
                    <div class="col">
                      <span class="text-secondary me-2">Status:</span>
                    </div>
                    <!-- End Col -->

                    <div class="col-auto">
                      <!-- Select -->
                      <div class="tom-select-custom tom-select-custom-end">
                        <select class="js-select js-datatable-filter form-select form-select-sm form-select-borderless" data-target-column-index="5" data-target-table="datatable" autocomplete="off" data-hs-tom-select-options='{
                                  "searchInDropdown": false,
                                  "hideSearch": true,
                                  "dropdownWidth": "10rem"
                                }'>
                          <option value="null" selected>All</option>
                          <option value="Active">Active</option>
                          <option value="Inactive">Inactive</option>
                        </select>
                      </div>
                      <!-- End Select -->
                    </div>
                    <!-- End Col -->
                  </div>
                  <!-- End Row -->
                </div>
                <!-- End Col -->

                <div class="col-sm-auto">
                  <div class="row align-items-center gx-0">
                    <div class="col">
                      <span class="text-secondary me-2">Signed up:</span>
                    </div>
                    <!-- End Col -->

                    <div class="col-auto">
                      <!-- Select -->
                      <div class="tom-select-custom tom-select-custom-end">
                        <select class="js-select js-datatable-filter form-select form-select-sm form-select-borderless" data-target-column-index="6" data-target-table="datatable" autocomplete="off" data-hs-tom-select-options='{
                                  "searchInDropdown": false,
                                  "hideSearch": true,
                                  "dropdownWidth": "10rem"
                                }'>
                          <option value="null" selected>All</option>
                          <!-- <option value="1 year ago">1 year ago</option>
                          <option value="6 months ago">6 months ago</option>
                          <option value="3 months ago">3 months ago</option> -->
                          <option value="1 month ago">1 month ago</option>
                          <option value="3 weeks ago">3 weeks ago</option>
                          <option value="2 weeks ago">2 weeks ago</option>
                          <option value="1 week ago">1 week ago</option>
                          <option value="1 day ago">1 day ago</option>
                        </select>
                      </div>
                      <!-- End Select -->
                    </div>
                    <!-- End Col -->
                  </div>
                  <!-- End Row -->
                </div>
                <!-- End Col -->

                <div class="col-md">
                  <form>
                    <!-- Search -->
                    <div class="input-group input-group-merge input-group-flush">
                      <div class="input-group-prepend input-group-text">
                        <i class="bi-search"></i>
                      </div>
                      <input id="datatableSearch" type="search" class="form-control" placeholder="Search customers" (input)="rerender($event)" aria-label="Search users">
                    </div>
                    <!-- End Search -->
                  </form>
                </div>
                <!-- End Col -->
              </div>
              <!-- End Filter -->
            </div>
            <!-- End Col -->
          </div>
          <!-- End Row -->
        </div>
        <!-- End Header -->

        <!-- Table -->
        <div class="table-responsive">
          <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" id="datatable" class="table table-borderless table-thead-bordered table-nowrap table-align-middle card-table" data-hs-datatables-options='{
                   "columnDefs": [{
                      "targets": [0, 1, 4],
                      "orderable": false
                    }],
                   "order": [],
                   "info": {
                     "totalQty": "#datatableWithPaginationInfoTotalQty"
                   },
                   "search": "#datatableSearch",
                   "entries": "#datatableEntries",
                   "pageLength": 8,
                   "isResponsive": false,
                   "isShowPaging": false,
                   "pagination": "datatablePagination"
                 }'>
            <thead class="thead-light">
              <tr>
                <th scope="col" class="table-column-pe-0">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="datatableCheckAll">
                    <label class="form-check-label" for="datatableCheckAll"></label>
                  </div>
                </th>
                <th class="table-column-ps-0">Full name</th>
                <th>Email</th>
                <th>Phone No</th>                
                <th>Active Plans</th>
                <th>Signed Up</th>   
                <th>Registered By</th>             
              </tr>
            </thead>

            <tbody *ngIf="thisMonthCustomer != undefined">
              <tr *ngFor="let data of thisMonthCustomer.slice().reverse(); let i = index;">
                <td class="table-column-pe-0">
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="usersDataCheck{{data.sn}}">
                    <label class="form-check-label" for="usersDataCheck{{data.sn}}"></label>
                  </div>
                </td>
                <td class="table-column-ps-0">
                  <a class="d-flex align-items-center" href="">
                    <div class="flex-shrink-0">
                      <div class="avatar avatar-sm avatar-circle">
                        <img class="avatar-img" src="{{imagePath+data?.image}}" onerror="this.src='../../../assets/img/160x160/img1.jpg'" alt="{{data?.firstName}}">
                      </div>
                    </div>
                    <div class="flex-grow-1 ms-3">
                      <h5 class="text-inherit mb-0">{{data?.firstName.concat(' ').concat(data?.lastName) | titlecase}}</h5>
                    </div>
                  </a>
                </td>
                <td>{{data?.email}}</td>
                <td>{{data?.userId}}</td>                
                <td>{{data?.allPlans }}</td>
                <!-- <td>
                  <span class="legend-indicator bg-success"></span>Active
                </td> -->
                <td>{{data?.date_registered | dateAgo}}</td>
                <td>{{data?.agent_firstname | titlecase}}</td>
                
              </tr>

            </tbody>
          </table>
        </div>
        <!-- End Table -->

        <!-- Footer -->
        
        <!-- End Footer -->
      </div>
      <!-- End Card -->

      
    </div>
    <!-- End Content -->

<app-edit-customer></app-edit-customer>